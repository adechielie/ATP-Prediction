# Configuration principale du projet ATP Prediction

data:
  # Sources de données
  sources:
    atp_github:
      base_url: "https://raw.githubusercontent.com/JeffSackmann/tennis_atp/master/"
      years_range: [2000, 2025]
    
    climate:
      api_url: "https://archive-api.open-meteo.com/v1/archive"
      start_date: "2000-01-01"
      end_date: "2024-12-31"
  
  # Chemins de stockage
  paths:
    raw: "data/raw"
    bronze: "data/bronze"
    silver: "data/silver"
    gold: "data/gold"
    models: "models"
    logs: "logs"

# Tournois à conserver
tournaments:
  allowed:
    - "Roland Garros"
    - "Wimbledon"
    - "US Open"
    - "Australian Open"
    - "Halle"
    - "Queen's Club"
    - "Washington"
    - "Barcelona"
    - "Monte Carlo Masters"
    - "Indian Wells Masters"
    - "Cincinnati Masters"
    - "Canada Masters"
    - "Miami Masters"
    - "Paris Masters"
    - "Rome Masters"
    - "Madrid Masters"
    - "Stuttgart Outdoor"
    - "Stuttgart Masters"
    - "Hamburg Masters"
    - "Shanghai Masters"
    - "Atlanta Masters"
    - "Buenos Aires Masters"
    - "Dubai Masters"
    - "Vienna Masters"
    - "Mexico City Masters"
    - "London Olympics"
    - "Paris Olympics"
    - "Tokyo Olympics"
    - "Rio Olympics"
    - "Sydney Olympics"
    - "Beijing Olympics"
    - "Laver Cup"
    - "Tour Finals"
    - "Next Gen Finals"
    - "Barcelona Masters" 

# Mapping des noms de tournois vers les villes
location_mapping:
  "Stuttgart Outdoor": "Stuttgart"
  "Paris Masters": "Paris"
  "Stuttgart Masters": "Stuttgart"
  "Miami Masters": "Miami"
  "Indian Wells Masters": "Indian Wells"
  "Monte Carlo Masters": "Roquebrune-Cap-Martin"
  "Hamburg Masters": "Hamburg"
  "Rome Masters": "Rome"
  "Canada Masters": "Toronto"
  "Cincinnati Masters": "Cincinnati"
  "Shanghai Masters": "Shanghai"
  "Atlanta Masters": "Atlanta"
  "Roland Garros": "Paris"
  "Buenos Aires Masters": "Buenos Aires"
  "Dubai Masters": "Dubai"
  "Vienna Masters": "Vienna"
  "Mexico City Masters": "Mexico City"
  "Wimbledon": "London"
  "Madrid Masters": "Madrid"
  "Barcelona Masters": "Barcelona"
  "US Open": "New York"
  "London Olympics": "London"
  "Paris Olympics": "Paris"
  "Tokyo Olympics": "Tokyo"
  "Rio Olympics": "Rio de Janeiro"
  "Australian Open": "Melbourne"
  "Laver Cup": "London"
  "Tour Finals": "London"
  "Next Gen Finals": "Milan"
  "Sydney Olympics": "Sydney"
  "Beijing Olympics": "Beijing"

# Paramètres de preprocessing
preprocessing:
  min_matches_per_player: 10
  rolling_window: 5
  columns_to_drop:
   - "score"
   - "winner_seed"
   - "winner_entry"
   - "loser_seed"
   - "loser_entry"

# Paramètres du modèle
model:
  type: "unified"  # unified ou per_player
  algorithm: "gradient_boosting"  # logistic_regression, knn, gradient_boosting, random_forest
  test_size: 0.15
  random_state: 42
  retraining_frequency: "weekly"
  
  hyperparameters:
    gradient_boosting:
      n_estimators: 200
      learning_rate: 0.1
      max_depth: 5
      min_samples_split: 20
      subsample: 0.8
    
    random_forest:
      n_estimators: 100
      max_depth: 10
      min_samples_split: 10
    
    logistic_regression:
      C: 1.0
      max_iter: 1000
    
    knn:
      n_neighbors: 5

# Pipeline Kafka / Fabric
pipeline:
  kafka:
    enabled: false  # Activer pour production
    bootstrap_servers: "localhost:9092"
    topic: "atp-matches-raw"
  
  fabric:
    enabled: false
    workspace: "atp-prediction"
    lakehouse: "atp-data"
  
  schedule:
    ingestion: "daily"
    training: "weekly"

# API Configuration
api:
  host: "0.0.0.0"
  port: 8000
  reload: true
  log_level: "info"

# Frontend
frontend:
  streamlit:
    port: 8501
    theme: "dark"
  
  website:
    url: "https://todoba.net"
    prediction_page: "/prediction"
